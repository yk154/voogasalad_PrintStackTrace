<?xml version="1.0" encoding="UTF-8"?>

<game>
    <gameplay.Node>
        <myPhaseName>A</myPhaseName>
        <myName>b</myName>
        <myExecution>selected = $clicked</myExecution>
    </gameplay.Node>
    <gameplay.Node>
        <myPhaseName>A</myPhaseName>
        <myName>d</myName>
        <myExecution>$clicked.props.hp = $clicked.props.hp - selected.props.dmg
            if($clicked.props.hp &lt;= 0) { GameMethods.removeEntity($clicked) }
            GameMethods.toNextPlayer()
            GameMethods.$goto(&apos;A&apos;)</myExecution>
    </gameplay.Node>
    <gameplay.Node>
        <myPhaseName>A</myPhaseName>
        <myName>c</myName>
        <myExecution>GameMethods.moveEntity(selected, $clicked)
            GameMethods.toNextPlayer()
            GameMethods.$goto(&apos;A&apos;)</myExecution>
    </gameplay.Node>
    <gameplay.Node>
        <myPhaseName>A</myPhaseName>
        <myName>A</myName>
        <myExecution></myExecution>
    </gameplay.Node>
    <gameplay.Edge>
        <myPhaseName>A</myPhaseName>
        <myStartNodeName>b</myStartNodeName>
        <myEndNodeName>A</myEndNodeName>
        <myTrigger class="phase.api.GameEvent$KeyPress">
            <code>ESCAPE</code>
        </myTrigger>
        <myGuard>GameMethods.$return(true)</myGuard>
    </gameplay.Edge>
    <gameplay.Edge>
        <myPhaseName>A</myPhaseName>
        <myStartNodeName>b</myStartNodeName>
        <myEndNodeName>d</myEndNodeName>
        <myTrigger class="phase.api.GameEvent$MouseClick"/>
        <myGuard>GameMethods.$return(GameMethods.isEntity($clicked) &amp;&amp; !GameMethods.getCurrentPlayer().isMyEntity($clicked) &amp;&amp; GameMethods.distance($clicked, selected) &lt;= selected.props.attackRange)</myGuard>
    </gameplay.Edge>
    <gameplay.Edge>
        <myPhaseName>A</myPhaseName>
        <myStartNodeName>b</myStartNodeName>
        <myEndNodeName>c</myEndNodeName>
        <myTrigger class="phase.api.GameEvent$MouseClick"/>
        <myGuard>GameMethods.$return(GameMethods.isTile($clicked) &amp;&amp; GameMethods.distance($clicked, selected) &lt;= 1)</myGuard>
    </gameplay.Edge>
    <gameplay.Edge>
        <myPhaseName>A</myPhaseName>
        <myStartNodeName>A</myStartNodeName>
        <myEndNodeName>b</myEndNodeName>
        <myTrigger class="phase.api.GameEvent$MouseClick"/>
        <myGuard>if(((GameMethods.isEntity($clicked)) &amp;&amp; (GameMethods.getCurrentPlayer().isMyEntity($clicked)))) {
            $return = true

            }
            else {
            $return = false

            }
        </myGuard>
    </gameplay.Edge>
    <gameplay.Phase>
        <myStartNodeName>A</myStartNodeName>
        <myCurrentNodeName>A</myCurrentNodeName>
        <myNodeNames>
            <string>b</string>
            <string>d</string>
            <string>c</string>
            <string>A</string>
        </myNodeNames>
    </gameplay.Phase>
    <winCondition>if(GameMethods.hasNoEntities(GameMethods.getCurrentPlayerName())) {   GameMethods.endGame(GameMethods.getCurrentPlayerName() + &apos; LOST!&apos;)}</winCondition>
    <grid-width>5</grid-width>
    <grid-height>5</grid-height>
    <gameplay.EntityPrototype>
        <name>bowman</name>
        <props>
            <entry>
                <string>attackRange</string>
                <int>3</int>
            </entry>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>1</int>
            </entry>
        </props>
        <myWidth>2</myWidth>
        <myHeight>2</myHeight>
        <myImagePaths>
            <string>bowman1.png</string>
            <string>bowman2.png</string>
            <string>bowman3.png</string>
            <string>bowman4.png</string>
            <string>bowman5.png</string>
        </myImagePaths>
        <myImageSelector>$return = $this.props.hp-1</myImageSelector>
    </gameplay.EntityPrototype>
    <gameplay.EntityPrototype>
        <name>swordman</name>
        <props>
            <entry>
                <string>attackRange</string>
                <int>1</int>
            </entry>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>3</int>
            </entry>
        </props>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myImagePaths>
            <string>swordman1.png</string>
            <string>swordman2.png</string>
            <string>swordman3.png</string>
            <string>swordman4.png</string>
            <string>swordman5.png</string>
        </myImagePaths>
        <myImageSelector>$return = $this.props.hp-1</myImageSelector>
    </gameplay.EntityPrototype>
    <gameplay.Entity>
        <myID>27</myID>
        <name>swordman</name>
        <props>
            <entry>
                <string>attackRange</string>
                <int>1</int>
            </entry>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>3</int>
            </entry>
        </props>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>0</x>
            <y>1</y>
        </myCoord>
        <myImagePaths>
            <string>swordman1.png</string>
            <string>swordman2.png</string>
            <string>swordman3.png</string>
            <string>swordman4.png</string>
            <string>swordman5.png</string>
        </myImagePaths>
        <myImageSelector>$return = $this.props.hp-1</myImageSelector>
    </gameplay.Entity>
    <gameplay.Entity>
        <myID>28</myID>
        <name>bowman</name>
        <props>
            <entry>
                <string>attackRange</string>
                <int>3</int>
            </entry>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>1</int>
            </entry>
        </props>
        <myWidth>2</myWidth>
        <myHeight>2</myHeight>
        <myCoord>
            <x>1</x>
            <y>3</y>
        </myCoord>
        <myImagePaths>
            <string>bowman1.png</string>
            <string>bowman2.png</string>
            <string>bowman3.png</string>
            <string>bowman4.png</string>
            <string>bowman5.png</string>
        </myImagePaths>
        <myImageSelector>$return = $this.props.hp-1</myImageSelector>
    </gameplay.Entity>
    <gameplay.Entity>
        <myID>29</myID>
        <name>bowman</name>
        <props>
            <entry>
                <string>attackRange</string>
                <int>3</int>
            </entry>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>1</int>
            </entry>
        </props>
        <myWidth>2</myWidth>
        <myHeight>2</myHeight>
        <myCoord>
            <x>3</x>
            <y>3</y>
        </myCoord>
        <myImagePaths>
            <string>bowman1.png</string>
            <string>bowman2.png</string>
            <string>bowman3.png</string>
            <string>bowman4.png</string>
            <string>bowman5.png</string>
        </myImagePaths>
        <myImageSelector>$return = $this.props.hp-1</myImageSelector>
    </gameplay.Entity>
    <gameplay.Entity>
        <myID>26</myID>
        <name>swordman</name>
        <props>
            <entry>
                <string>attackRange</string>
                <int>1</int>
            </entry>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>3</int>
            </entry>
        </props>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>0</x>
            <y>0</y>
        </myCoord>
        <myImagePaths>
            <string>swordman1.png</string>
            <string>swordman2.png</string>
            <string>swordman3.png</string>
            <string>swordman4.png</string>
            <string>swordman5.png</string>
        </myImagePaths>
        <myImageSelector>$return = $this.props.hp-1</myImageSelector>
    </gameplay.Entity>
    <gameplay.Tile>
        <myID>12</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>2</x>
            <y>1</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>10</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>1</x>
            <y>4</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>8</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>1</x>
            <y>2</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>22</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>4</x>
            <y>1</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>4</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>0</x>
            <y>3</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>9</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>1</x>
            <y>3</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>24</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>4</x>
            <y>3</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>15</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>2</x>
            <y>4</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>23</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>4</x>
            <y>2</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>16</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>3</x>
            <y>0</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>18</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>3</x>
            <y>2</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>1</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>0</x>
            <y>0</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>2</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>0</x>
            <y>1</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>5</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>0</x>
            <y>4</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>25</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>4</x>
            <y>4</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>13</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>2</x>
            <y>2</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>17</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>3</x>
            <y>1</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>20</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>3</x>
            <y>4</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>21</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>4</x>
            <y>0</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>6</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>1</x>
            <y>0</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>11</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>2</x>
            <y>0</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>19</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>3</x>
            <y>3</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>7</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>1</x>
            <y>1</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>3</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>0</x>
            <y>2</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>14</myID>
        <name>box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myCoord>
            <x>2</x>
            <y>3</y>
        </myCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myImageSelector></myImageSelector>
    </gameplay.Tile>
    <gameplay.Player>
        <myName>classB</myName>
        <myStats/>
        <myEntityIDs>
            <int>28</int>
            <int>29</int>
        </myEntityIDs>
    </gameplay.Player>
    <gameplay.Player>
        <myName>classA</myName>
        <myStats/>
        <myEntityIDs>
            <int>26</int>
            <int>27</int>
        </myEntityIDs>
    </gameplay.Player>
    <gameplay.Turn>
        <myCurrentPhaseName>A</myCurrentPhaseName>
        <playersOrder>
            <string>classB</string>
            <string>classA</string>
        </playersOrder>
    </gameplay.Turn>
</game>
